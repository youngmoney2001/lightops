<ng-container [ngSwitch]="type">

  <!-- Card Skeleton -->
  <div *ngSwitchCase="'card'"
       class="loading-skeleton"
       [ngClass]="skeletonClasses"
       [style.width]="width"
       [style.height]="height"
       [style.border-radius]="borderRadius"
       role="status"
       aria-label="Chargement..."
  >
    <div class="absolute inset-0 flex flex-col p-4 space-y-3">
      <div class="flex items-start justify-between">
        <!-- Title line -->
        <div class="h-4 bg-gray-300 rounded w-1/4"></div>
        <!-- Icon circle -->
        <div class="h-8 w-8 bg-gray-300 rounded-full"></div>
      </div>

      <!-- Content lines -->
      <div class="space-y-2 mt-4">
        <div class="h-6 bg-gray-300 rounded w-3/4"></div>
        <div class="h-4 bg-gray-300 rounded w-1/2"></div>
        <div class="h-4 bg-gray-300 rounded w-2/3"></div>
      </div>

      <!-- Footer -->
      <div class="flex items-center justify-between mt-6">
        <div class="h-4 bg-gray-300 rounded w-1/3"></div>
        <div class="h-8 w-24 bg-gray-300 rounded-lg"></div>
      </div>
    </div>
  </div>

  <!-- Text Skeleton -->
  <div *ngSwitchCase="'text'"
       class="loading-skeleton space-y-2"
       [style.width]="width"
       role="status"
       aria-label="Texte en chargement..."
  >
    <div *ngFor="let row of getRows()"
         class="animate-pulse bg-gray-200 rounded h-4"
         [ngClass]="className"
         [style.width]="row === 0 ? '100%' : row === 1 ? '80%' : '60%'"
         [style.height]="height"
         [style.border-radius]="borderRadius"
    ></div>
  </div>

  <!-- Circle Skeleton -->
  <div *ngSwitchCase="'circle'"
       class="loading-skeleton"
       [ngClass]="skeletonClasses"
       [style.width]="width"
       [style.height]="width"
       [style.border-radius]="'50%'"
       role="status"
       aria-label="Avatar en chargement..."
  ></div>

  <!-- Rectangle Skeleton -->
  <div *ngSwitchCase="'rectangle'"
       class="loading-skeleton"
       [ngClass]="skeletonClasses"
       [style.width]="width"
       [style.height]="height"
       [style.border-radius]="borderRadius"
       role="status"
       aria-label="Ã‰lÃ©ment en chargement..."
  >
    <div class="absolute inset-0 flex items-center justify-center">
      <div class="h-1/2 w-1/2 bg-gray-300 rounded"></div>
    </div>
  </div>

  <!-- Table Skeleton -->
  <div *ngSwitchCase="'table'"
       class="loading-skeleton w-full"
       role="status"
       aria-label="Tableau en chargement..."
  >
    <!-- Table Header -->
    <div class="flex border-b border-gray-300 pb-2 mb-4">
      <div *ngFor="let col of [1,2,3,4]"
           class="h-4 bg-gray-200 rounded flex-1 mx-2"
           [style.width]="col === 1 ? '20%' : col === 2 ? '30%' : col === 3 ? '25%' : '25%'"
      ></div>
    </div>

    <!-- Table Rows -->
    <div class="space-y-3">
      <div *ngFor="let row of getRows()"
           class="flex items-center py-3"
      >
        <!-- Row cells -->
        <div class="flex flex-1 space-x-4">
          <div class="h-4 bg-gray-200 rounded w-1/5"></div>
          <div class="h-4 bg-gray-200 rounded w-3/10"></div>
          <div class="h-4 bg-gray-200 rounded w-1/4"></div>
          <div class="h-4 bg-gray-200 rounded w-1/4"></div>
        </div>

        <!-- Actions -->
        <div class="flex space-x-2 ml-4">
          <div class="h-6 w-6 bg-gray-200 rounded"></div>
          <div class="h-6 w-6 bg-gray-200 rounded"></div>
        </div>
      </div>
    </div>

    <!-- Table Footer -->
    <div class="flex justify-between items-center mt-6 pt-4 border-t border-gray-300">
      <div class="h-4 bg-gray-200 rounded w-1/4"></div>
      <div class="flex space-x-2">
        <div class="h-8 w-8 bg-gray-200 rounded"></div>
        <div class="h-8 w-24 bg-gray-200 rounded"></div>
        <div class="h-8 w-8 bg-gray-200 rounded"></div>
      </div>
    </div>
  </div>

</ng-container>

<!-- Invisible text for screen readers -->
<span class="sr-only">Contenu en cours de chargement</span>
